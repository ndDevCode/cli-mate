"use strict";(self.webpackChunkcli_mate=self.webpackChunkcli_mate||[]).push([[7531],{7531:(x,h,n)=>{n.r(h),n.d(h,{EmojiDrawer:()=>v});var d=n(1528),a=n(3776),j=n(5180);const D='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"';class v{constructor(){this._emojiShapeDict=new Map}destroy(){for(const[i,e]of this._emojiShapeDict)e instanceof ImageBitmap&&(e?.close(),this._emojiShapeDict.delete(i))}draw(i){return(0,d.c)(function*(){const{drawEmoji:e}=yield n.e(3292).then(n.bind(n,3292));e(i)})()}init(i){return(0,d.c)(function*(){const e=i.actualOptions;if(!j.I.find(t=>(0,a.Sc)(t,e.particles.shape.type)))return;const c=[(0,a.or)(D)],u=j.I.map(t=>e.particles.shape.options[t]).find(t=>!!t);u&&(0,a.yW)(u,t=>{t.font&&c.push((0,a.or)(t.font))}),yield Promise.all(c)})()}particleDestroy(i){delete i.emojiData}particleInit(i,e){var c=this;return(0,d.c)(function*(){const t=e.shapeData;if(!t?.value)return;const r=(0,a.pd)(t.value,e.randomIndexData),p=t.font??D;if(!r)return;const _=`${r}_${p}`,E=c._emojiShapeDict.get(_);if(E)return void(e.emojiData=E);const m=2*(0,a.GO)(e.size.value);let f;const l=(0,a.GO)(e.size.value);if(typeof OffscreenCanvas<"u"){const s=new OffscreenCanvas(m,m),o=s.getContext("2d");if(!o)return;o.font=`400 ${2*l}px ${p}`,o.textBaseline="middle",o.textAlign="center",o.fillText(r,l,l),f=s.transferToImageBitmap()}else{const s=document.createElement("canvas");s.width=m,s.height=m;const o=s.getContext("2d");if(!o)return;o.font=`400 ${2*l}px ${p}`,o.textBaseline="middle",o.textAlign="center",o.fillText(r,l,l),f=s}c._emojiShapeDict.set(_,f),e.emojiData=f,yield Promise.resolve()})()}}}}]);