"use strict";(self.webpackChunkcli_mate=self.webpackChunkcli_mate||[]).push([[767],{2888:(O,f,n)=>{n.r(f),n.d(f,{downloadSvgImage:()=>g,loadImage:()=>c,replaceImageColor:()=>l});var u=n(1528),i=n(3776);const h=0,I=1,y=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function c(e){return o.apply(this,arguments)}function o(){return(o=(0,u.c)(function*(e){return new Promise(t=>{e.loading=!0;const s=new Image;e.element=s,s.addEventListener("load",()=>{e.loading=!1,t()}),s.addEventListener("error",()=>{e.element=void 0,e.error=!0,e.loading=!1,(0,i.eL)().error(`${i.iQ} loading image: ${e.source}`),t()}),s.src=e.source})})).apply(this,arguments)}function g(e){return r.apply(this,arguments)}function r(){return(r=(0,u.c)(function*(e){if("svg"!==e.type)return void(yield c(e));e.loading=!0;const t=yield fetch(e.source);t.ok?e.svgData=yield t.text():((0,i.eL)().error(`${i.iQ} Image not found`),e.error=!0),e.loading=!1})).apply(this,arguments)}function l(e,t,s,d){const m=function v(e,t,s){const{svgData:d}=e;if(!d)return"";const m=(0,i.CK)(t,s);if(d.includes("fill"))return d.replace(y,()=>m);const a=d.indexOf(">");return`${d.substring(h,a)} fill="${m}"${d.substring(a)}`}(e,s,d.opacity?.value??I),a={color:s,gif:t.gif,data:{...e,svgData:m},loaded:!1,ratio:t.width/t.height,replaceColor:t.replaceColor,source:t.src};return new Promise(P=>{const w=new Blob([m],{type:"image/svg+xml"}),E=URL||window.URL||window.webkitURL||window,L=E.createObjectURL(w),p=new Image;p.addEventListener("load",()=>{a.loaded=!0,a.element=p,P(a),E.revokeObjectURL(L)});const _=function(){var R=(0,u.c)(function*(){E.revokeObjectURL(L);const C={...e,error:!1,loading:!0};yield c(C),a.loaded=!0,a.element=C.element,P(a)});return function(){return R.apply(this,arguments)}}();p.addEventListener("error",()=>{_()}),p.src=L})}},767:(O,f,n)=>{n.r(f),n.d(f,{loadImageShape:()=>v});var u=n(1528),i=n(2888),h=n(3776);const I=3;function v(o){return c.apply(this,arguments)}function c(){return c=(0,u.c)(function*(o,g=!0){!function y(o){o.loadImage||(o.loadImage=function(){var g=(0,u.c)(function*(r){if(!r.name&&!r.src)throw new Error(`${h.iQ} no image source provided`);if(o.images||(o.images=[]),!o.images.find(l=>l.name===r.name||l.source===r.src))try{const l={gif:r.gif??!1,name:r.name??r.src,source:r.src,type:r.src.substring(r.src.length-I),error:!1,loading:!0,replaceColor:r.replaceColor,ratio:r.width&&r.height?r.width/r.height:void 0};let e;if(o.images.push(l),r.gif){const{loadGifImage:t}=yield n.e(4576).then(n.bind(n,4576));e=t}else e=r.replaceColor?i.downloadSvgImage:i.loadImage;yield e(l)}catch{throw new Error(`${h.iQ} ${r.name??r.src} not found`)}});return function(r){return g.apply(this,arguments)}}())}(o);const{ImagePreloaderPlugin:r}=yield n.e(3984).then(n.bind(n,3984)),{ImageDrawer:l}=yield n.e(3476).then(n.bind(n,3476)),e=new r(o);yield o.addPlugin(e,g),yield o.addShape(["image","images"],new l(o),g)}),c.apply(this,arguments)}}}]);